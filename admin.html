<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACKERMANIA | ADMIN PANEL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --hacker-green: #00ff41;
            --hacker-bg: #050505;
            --discord-blurple: #5865F2;
        }
        body {
            background-color: var(--hacker-bg);
            color: #e5e5e5;
            font-family: 'Inter', sans-serif;
        }
        .code-font {
            font-family: 'Fira Code', monospace;
        }
        .terminal {
            background: #000;
            border: 1px solid var(--hacker-green);
            font-family: 'Fira Code', monospace;
        }
    </style>
</head>
<body class="min-h-screen p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-black text-green-500 mb-8 code-font">SYSTEM ADMIN PANEL</h1>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Current Bans -->
            <div class="terminal p-6">
                <h2 class="text-green-500 text-xl font-bold mb-4">CURRENT BANS</h2>
                <div id="bans-list" class="space-y-2 text-sm">
                    <!-- Bans will be loaded here -->
                </div>
                <button onclick="loadBans()" class="mt-4 px-4 py-2 bg-green-500 text-black font-bold hover:bg-green-400 transition-colors">REFRESH</button>
            </div>

            <!-- Unban Controls -->
            <div class="terminal p-6">
                <h2 class="text-red-500 text-xl font-bold mb-4">UNBAN CONTROLS</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm mb-2">Select Hardware ID to Unban:</label>
                        <select id="unban-hwid-select" class="w-full bg-gray-800 border border-gray-600 px-3 py-2 text-green-400 code-font">
                            <option value="">-- Select HWID --</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Select IP to Unban:</label>
                        <select id="unban-ip-select" class="w-full bg-gray-800 border border-gray-600 px-3 py-2 text-green-400 code-font">
                            <option value="">-- Select IP --</option>
                        </select>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="unbanSelectedHWID()" class="px-4 py-2 bg-red-600 text-white font-bold hover:bg-red-500 transition-colors">UNBAN SELECTED HWID</button>
                        <button onclick="unbanSelectedIP()" class="px-4 py-2 bg-red-600 text-white font-bold hover:bg-red-500 transition-colors">UNBAN SELECTED IP</button>
                        <button onclick="clearAllBans()" class="px-4 py-2 bg-red-800 text-white font-bold hover:bg-red-700 transition-colors">CLEAR ALL</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Info -->
        <div class="terminal p-6 mt-8">
            <h2 class="text-blue-500 text-xl font-bold mb-4">SYSTEM INFORMATION</h2>
            <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div>
                    <p><span class="text-green-400">Your Hardware ID:</span> <span id="your-hwid" class="code-font"></span></p>
                    <p><span class="text-green-400">Your IP:</span> <span id="your-ip" class="code-font"></span></p>
                </div>
                <div>
                    <p><span class="text-green-400">Access Level:</span> <span class="text-yellow-400">SYSTEM DEVELOPER</span></p>
                    <p><span class="text-green-400">Status:</span> <span class="text-green-500">AUTHORIZED</span></p>
                </div>
            </div>
        </div>

        <!-- Back to Site -->
        <div class="text-center mt-8">
            <a href="index.html" class="px-6 py-3 bg-discord-blurple text-white font-bold hover:bg-blue-600 transition-colors">BACK TO SITE</a>
        </div>
    </div>

    <script>
        let hardwareId = '';
        let userIp = '';

        // Generate hardware fingerprint
        async function generateFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillText('HackerMania', 2, 2);
            const fingerprint = canvas.toDataURL();

            const navigatorData = [
                navigator.userAgent,
                navigator.language,
                screen.width + 'x' + screen.height,
                new Date().getTimezoneOffset(),
                !!window.sessionStorage,
                !!window.localStorage,
                !!window.indexedDB,
                fingerprint
            ].join('|');

            hardwareId = btoa(navigatorData).slice(0, 32);
            return hardwareId;
        }

        // Get user IP
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                userIp = data.ip;
                return userIp;
            } catch (error) {
                userIp = 'unknown';
                return 'unknown';
            }
        }

        // Check admin access
        async function checkAdminAccess() {
            await generateFingerprint();
            await getUserIP();

            document.getElementById('your-hwid').textContent = hardwareId;
            document.getElementById('your-ip').textContent = userIp;

            if (hardwareId !== 'TW96aWxsYS81LjAgKFdpbmRvd3MgTlQg' || userIp !== '73.36.62.187') {
                document.body.innerHTML = `
                    <div class="min-h-screen flex items-center justify-center">
                        <div class="terminal p-8 text-center">
                            <h1 class="text-red-500 text-2xl font-bold mb-4">ACCESS DENIED</h1>
                            <p class="text-gray-400">You do not have permission to access this panel.</p>
                            <a href="index.html" class="inline-block mt-4 px-4 py-2 bg-gray-600 text-white hover:bg-gray-500 transition-colors">Back to Site</a>
                        </div>
                    </div>
                `;
                return false;
            }
            return true;
        }

        // Load current bans
        function loadBans() {
            const bannedIds = JSON.parse(localStorage.getItem('bannedHardwareIds') || '[]');
            const bannedIps = JSON.parse(localStorage.getItem('bannedIps') || '[]');

            const bansList = document.getElementById('bans-list');
            bansList.innerHTML = '';

            if (bannedIds.length === 0 && bannedIps.length === 0) {
                bansList.innerHTML = '<p class="text-gray-500">No active bans</p>';
                return;
            }

            bannedIds.forEach(id => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center';
                div.innerHTML = `
                    <span class="text-red-400">HWID: ${id}</span>
                    <button onclick="unbanSpecificHWID('${id}')" class="text-xs px-2 py-1 bg-red-600 hover:bg-red-500 transition-colors">UNBAN</button>
                `;
                bansList.appendChild(div);
            });

            bannedIps.forEach(ip => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center';
                div.innerHTML = `
                    <span class="text-red-400">IP: ${ip}</span>
                    <button onclick="unbanSpecificIP('${ip}')" class="text-xs px-2 py-1 bg-red-600 hover:bg-red-500 transition-colors">UNBAN</button>
                `;
                bansList.appendChild(div);
            });
        }

        // Unban functions
        function unbanHWID() {
            const hwid = document.getElementById('unban-hwid').value.trim();
            if (!hwid) {
                alert('Please enter a Hardware ID');
                return;
            }
            unbanSpecificHWID(hwid);
            document.getElementById('unban-hwid').value = '';
        }

        function unbanIP() {
            const ip = document.getElementById('unban-ip').value.trim();
            if (!ip) {
                alert('Please enter an IP address');
                return;
            }
            unbanSpecificIP(ip);
            document.getElementById('unban-ip').value = '';
        }

        function unbanSpecificHWID(hwid) {
            const bannedIds = JSON.parse(localStorage.getItem('bannedHardwareIds') || '[]');
            const index = bannedIds.indexOf(hwid);
            if (index > -1) {
                bannedIds.splice(index, 1);
                localStorage.setItem('bannedHardwareIds', JSON.stringify(bannedIds));
                loadBans();
                alert(`Unbanned Hardware ID: ${hwid}`);
            } else {
                alert('Hardware ID not found in ban list');
            }
        }

        function unbanSpecificIP(ip) {
            const bannedIps = JSON.parse(localStorage.getItem('bannedIps') || '[]');
            const index = bannedIps.indexOf(ip);
            if (index > -1) {
                bannedIps.splice(index, 1);
                localStorage.setItem('bannedIps', JSON.stringify(bannedIps));
                loadBans();
                alert(`Unbanned IP: ${ip}`);
            } else {
                alert('IP not found in ban list');
            }
        }

        function clearAllBans() {
            if (confirm('Are you sure you want to clear ALL bans? This cannot be undone.')) {
                localStorage.removeItem('bannedHardwareIds');
                localStorage.removeItem('bannedIps');
                loadBans();
                alert('All bans cleared');
            }
        }

        // Initialize
        window.addEventListener('load', async () => {
            if (await checkAdminAccess()) {
                loadBans();
            }
        });
    </script>
</body>
</html>

